<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java 7 - AutoCloseable 살펴보기 | Hyoj blog</title>
    <meta name="description" content="Java AutoCloseable, Java 7 AutoCloseable 살펴보기">
    
    
    <link rel="preload" href="/assets/css/2.styles.0b559472.css" as="style"><link rel="preload" href="/assets/js/app.a385e484.js" as="script"><link rel="preload" href="/assets/js/17.41496e5d.js" as="script"><link rel="prefetch" href="/assets/js/0.b40a481d.js"><link rel="prefetch" href="/assets/js/1.5a6a5748.js"><link rel="prefetch" href="/assets/js/10.12f06cdc.js"><link rel="prefetch" href="/assets/js/11.37389642.js"><link rel="prefetch" href="/assets/js/12.d852ac3b.js"><link rel="prefetch" href="/assets/js/13.99b7b1dc.js"><link rel="prefetch" href="/assets/js/14.82b5e9a7.js"><link rel="prefetch" href="/assets/js/15.e3b03cc6.js"><link rel="prefetch" href="/assets/js/16.a06290de.js"><link rel="prefetch" href="/assets/js/18.ac7111a9.js"><link rel="prefetch" href="/assets/js/19.f535600b.js"><link rel="prefetch" href="/assets/js/20.418648e2.js"><link rel="prefetch" href="/assets/js/21.c89ba92f.js"><link rel="prefetch" href="/assets/js/22.64300079.js"><link rel="prefetch" href="/assets/js/23.867a1b19.js"><link rel="prefetch" href="/assets/js/24.eca8fe01.js"><link rel="prefetch" href="/assets/js/25.feb75c97.js"><link rel="prefetch" href="/assets/js/26.e1770f06.js"><link rel="prefetch" href="/assets/js/27.153ef2f7.js"><link rel="prefetch" href="/assets/js/28.8dbf6296.js"><link rel="prefetch" href="/assets/js/29.de6e3fcc.js"><link rel="prefetch" href="/assets/js/30.86f51034.js"><link rel="prefetch" href="/assets/js/31.bdf3e9ca.js"><link rel="prefetch" href="/assets/js/32.11fb05c8.js"><link rel="prefetch" href="/assets/js/4.e8f50331.js"><link rel="prefetch" href="/assets/js/5.83377268.js"><link rel="prefetch" href="/assets/js/6.8bb5071a.js"><link rel="prefetch" href="/assets/js/7.b77d460c.js"><link rel="prefetch" href="/assets/js/8.0a304340.js"><link rel="prefetch" href="/assets/js/9.bef38a2b.js">
    <link rel="stylesheet" href="/assets/css/2.styles.0b559472.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/pint.svg" alt="Hyoj blog" class="logo"> <span class="site-name can-hide">Hyoj blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/all/" class="nav-link">Home</a></div><div class="nav-item"><a href="/blog/java/" class="nav-link router-link-active">Java</a></div><div class="nav-item"><a href="/blog/tips/" class="nav-link">tips</a></div> <a href="https://github.com/hyoj" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/all/" class="nav-link">Home</a></div><div class="nav-item"><a href="/blog/java/" class="nav-link router-link-active">Java</a></div><div class="nav-item"><a href="/blog/tips/" class="nav-link">tips</a></div> <a href="https://github.com/hyoj" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Java 7 - AutoCloseable 살펴보기</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/blog/java/basic/java7-autocloseable.html#method-summary" class="sidebar-link">Method Summary</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/java/basic/java7-autocloseable.html#method-detail" class="sidebar-link">Method Detail</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="page-title"><a href="#page-title" class="header-anchor">#</a> Java 7 - AutoCloseable 살펴보기</h1> <p>Java 7 부터 java.lang 패키지에 AutoCloseable 이라는 인터페이스가 등장했다.</p> <blockquote><p><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html" target="_blank" rel="noopener noreferrer">Oracle docs Java 7 AutoCloseable<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>이 인터페이스에는 close 메서드 하나만 선언되어 있다.</p> <h2 id="method-summary"><a href="#method-summary" class="header-anchor">#</a> Method Summary</h2> <table><thead><tr><th style="text-align:center">Modifier and Type</th> <th>Method</th> <th>Description</th></tr></thead> <tbody><tr><td style="text-align:center">void</td> <td>close()</td> <td>Closes this resource, relinquishing any underlying resources.</td></tr></tbody></table> <h2 id="method-detail"><a href="#method-detail" class="header-anchor">#</a> Method Detail</h2> <p><code>void close() throws Exception</code></p> <ul><li><p>try-with-resources 문으로 관리되는 객체일 때 close() 메서드가 자동으로 호출된다.
리소스를 닫고 기본 리소스를 양도한다.</p></li> <li><p>close 메서드 구현시 구체적인 exception 을 throw 하고,
close 동작이 전혀 실패할 리가 없을 때는 exception 을 던지지 않도록 구현하는 것을 강력히 권고한다.</p></li> <li><p>close 메서드에서 InterruptedException 을 던지지 않는 것을 강하게 권고한다.</p></li></ul> <p>InterruptedExeption 은 쓰레드의 인터럽트 상태와 상호작용 하므로
InterruptedException 이 억제되었을 때 런타임에서 잘못된 동작이 발생 할 수 있기 때문이다.</p> <div class="tip custom-block"><p class="custom-block-title">Note</p> <p>일반적으로, 예외가 억제되었을 때 문제를 야기시킨다면 그 예외를 던지지 않아야 한다.</p></div> <ul><li>멱등성을 유지하는 것을 추천한다.</li></ul> <p>AutoCloseable.close() 메서드는 멱등성을 유지하는 것이 필수적이지는 않다.
이 말인즉슨 AutoCloseable.close() 메서드를 최초 한 번 호출 이후 다시 호출 했을 때 side effect 가 발생할 수 있다는 것이다.</p> <p>멱등성을 유지하는게 필수적인 사항은 아니지만 유지할 수 있도록 메서드를 구현하는 것을 추천한다.</p> <p>(반면에 Closeable.close 메서드는 멱등성을 유지하는 것이 필수적이라 몇번을 호출하든 부작용(side effect)이 없다.)</p> <div class="tip custom-block"><p class="custom-block-title">Note</p> <p>연산을 여러 번 적용하더라도 결과가 달라지지 않는 성질을 <code>멱등성(idempotent)</code> 이라 한다.</p></div> <hr> <p>🤔 앞으로는 <a href="https://stackoverflow.com/questions/13141302/implements-closeable-or-implements-autocloseable" target="_blank" rel="noopener noreferrer">Closeable 말고 AutoCloseable 을 구현해야하나? - 스택오버플로<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>💡 나온지 한참 되었지만, <a href="http://linuxism.tistory.com/934" target="_blank" rel="noopener noreferrer">java 7 에서 등장한 특징 다시보기<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.a385e484.js" defer></script><script src="/assets/js/17.41496e5d.js" defer></script>
  </body>
</html>
